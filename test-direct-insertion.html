<!DOCTYPE html>
<html>
<head>
    <title>Teste Direto de Inser√ß√£o URL</title>
</head>
<body>
    <h1>Teste de Inser√ß√£o do Campo URL</h1>
    
    <form id="eventForm">
        <div>
            <label>T√≠tulo:</label>
            <input type="text" id="title" value="Evento de Teste" required>
        </div>
        <div>
            <label>Data:</label>
            <input type="date" id="date" value="2024-12-25" required>
        </div>
        <div>
            <label>Tipo:</label>
            <select id="type">
                <option value="reuniao">Reuni√£o</option>
                <option value="curso">Curso</option>
            </select>
        </div>
        <div>
            <label>URL:</label>
            <input type="url" id="url" value="https://example.com/meeting" placeholder="https://exemplo.com">
        </div>
        <button type="submit">Testar Inser√ß√£o</button>
    </form>
    
    <div id="result"></div>
    
    <script>
        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                title: document.getElementById('title').value,
                date: document.getElementById('date').value,
                type: document.getElementById('type').value,
                url: document.getElementById('url').value
            };
            
            console.log('üìù Dados do formul√°rio:', formData);
            
            // Simular a l√≥gica do useCustomEvents
            const eventToInsert = {
                user_id: 'test-user-id',
                date: formData.date,
                type: formData.type,
                title: formData.title
            };
            
            // Adicionar URL se existir (mesma l√≥gica do hook)
            if (formData.url && formData.url.trim()) {
                eventToInsert.url = formData.url.trim();
                console.log('üîó URL adicionado aos dados:', formData.url.trim());
            } else {
                console.log('‚ö†Ô∏è URL n√£o foi adicionado - valor:', formData.url);
            }
            
            console.log('üîÑ Dados preparados para inser√ß√£o:', eventToInsert);
            console.log('üîç URL est√° presente?', 'url' in eventToInsert ? '‚úÖ SIM' : '‚ùå N√ÉO');
            
            // Mostrar resultado na p√°gina
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <h3>Resultado do Teste:</h3>
                <pre>${JSON.stringify(eventToInsert, null, 2)}</pre>
                <p><strong>URL presente:</strong> ${'url' in eventToInsert ? '‚úÖ SIM' : '‚ùå N√ÉO'}</p>
                ${eventToInsert.url ? `<p><strong>Valor do URL:</strong> ${eventToInsert.url}</p>` : ''}
            `;
        });
    </script>
</body>
</html>